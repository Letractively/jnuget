<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:f="http://java.sun.com/jsf/core">
    <h:head>
        <title>Хранилища пакетов</title>
        <link rel="stylesheet" type="text/css" href="/css/main.css" />
    </h:head>
    <h:body> 
        <br>Домашняя папка NuGet: <h:outputText id="rootFolder" value="#{optionsBean.nugetHome}"/></br>
        <br>Всего источников пакетов: <h:outputText id="nameText" value="#{optionsBean.repositoriesCount}"/></br>
        <h:dataTable value="#{optionsBean.storageOptions}" 
                     var="repo"
                     styleClass="storage" 
                     headerClass="storage" 
                     rowClasses="storage" 
                     columnClasses="storage,storage,storage,storage,storage,storage">
            <h:column>
                <f:facet name="header">№</f:facet> 
                <h:link value="#{optionsBean.storageOptions.rowIndex+1}" outcome="storageOptions">
                    <f:param name="storageId" value="#{optionsBean.storageOptions.rowIndex}"/>
                </h:link>
            </h:column>
            <h:column>
                <f:facet name="header">Класс хранилища</f:facet>                
                <h:outputText value="#{repo.getClassName()}"/>
            </h:column>
            <h:column>                
                <f:facet name="header">Индексируемое (Y/N)</f:facet>   
                <h:outputText value="#{repo.isIndexed()}"/>
            </h:column>
            <h:column>
                <f:facet name="header">Имя хранилища</f:facet>
                <h:outputText value="#{repo.getStorageName()}"/>
            </h:column>
            <h:column>
                <f:facet name="header">Интервал обновления индекса</f:facet> 
                <h:outputText value="#{repo.getRefreshInterval()}"/>
            </h:column>
            <h:column>
                <f:facet name="header">Содержимое</f:facet> 
                <h:link value="Содержимое" outcome="storageContents">
                    <f:param name="storageId" value="#{optionsBean.storageOptions.rowIndex}"/>
                </h:link>
            </h:column>
        </h:dataTable>        
        <h:link value="Создать..." outcome="createStorage"/>
    </h:body>
</html>

